
{{title: Количество строк PHP}}
{{h1: ~ }}
{{meta: Количество строк в тексте PHP или количество строк в файле PHP. Нажмите, чтобы посмотреть подробности и примеры работы.}}

<div class="content">
	<h2>Количество строк в тексте</h2>
	<p>
		Если у вас есть какой-то текст с переводами строки,
		то количество строк можно посчитать следующим образом:
	</p>
	<~show~>
		<+php+>
			<?php
				$str = '123\n456\n789';
				echo substr_count($test, '\n') + 1;
			?>
		<-php->
	<-show->
	<p>
		Суть в том, что перевод строки - это невидимый символ <b>\n</b>. 
		С помощью функции <a href="/ru/php/manual/string/substr_count/">substr_count</a> мы подсчитываем
		количество этих символов в нашем тексте, но их получается на 1 меньше, чем собственно строк.
		Поэтому прибавляем единицу.
	</p>
	
	<h2>Количество строк в файле</h2>
	<p>
		Чтобы подсчитать количество строк в файле, можно воспользоваться способом, описанным выше,
		а можно сделать и так:
	</p>
	<~show~>
		<+php+>
			<?php
				//Рассмотрим файл как массив:
				$arr = file($file);
				
				//Подсчитываем количество строк в массиве: 
				echo count($arr);
			?>
		<-php->
	<-show->
	<p>
		<i>Учтите, что первый способ оптимальнее и работает быстрее.</i>
	</p>
</div>

